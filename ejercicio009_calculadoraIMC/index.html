<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://fpaniaguajavascript.github.io/librerias/calculadorimc.js">

    </script>
</head>

<body>

    
        <input type="text" id="nombre" placeholder="nombre">
        <input type="text" id="edad" placeholder="edad">
        <input type="text" id="peso" placeholder="peso">
        <input type="text" id="altura" placeholder="altura">
        <span id="resultado"></span>
        <span id="error"></span>

        <button onclick="comenzarCalculoIMC()">CALCULAR</button>

    



</body>

</html>

<script>

    const LONGITUD_MINIMA_NOMBRE = 3;
    const EDAD_MINIMA = 18;
    const ALTURA_MINIMA = 100;
    const ALTURA_MAXIMA = 250;
    const PESO_MINIMO = 40;
    const PESO_MAXIMO = 200;
    const NUMERO_DECIMALES = 2;

    function comenzarCalculoIMC() {
        let hayError = validar();
        if (!hayError) {
            let peso = document.querySelector("#peso").value;
            let altura = document.querySelector("#altura").value;
            let imc = calcularIMC(peso, altura);
            escribirIMC(imc.toFixed(NUMERO_DECIMALES));
        }
    }


    function validar() {

        let hayError = true

        let nombre = document.querySelector("#nombre").value;
        let edad = document.querySelector("#edad").value;
        let peso = document.querySelector("#peso").value;
        let altura = document.querySelector("#altura").value;

        if (!(nombre.trim().length > LONGITUD_MINIMA_NOMBRE)) {
            escribirError("El nombre es demasiado corto")
        }
        else if (edad < EDAD_MINIMA) {
            escribirError("Debe ser mayor de edad")

        }
        else if (altura < ALTURA_MINIMA || altura > ALTURA_MAXIMA) {
            escribirError("La altura no es correcta")

        }
        else if (peso < PESO_MINIMO && peso > PESO_MAXIMO) {
            escribirError("El peso no es correcta")

        }
        else {
            hayError = false;
            escribirError("");

        }
        return hayError;

    }

    function calcular(peso, altura) {
        alert(calcularIMC(peso, altura));

    }

    function escribirError(mensaje) {

        document.querySelector("#error").textContent = mensaje;

    }

    function escribirError(mensaje) {

        document.querySelector("#resultado").textContent = mensaje;

    }



</script>